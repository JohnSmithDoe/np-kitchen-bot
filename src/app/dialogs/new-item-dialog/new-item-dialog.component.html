<ion-modal [isOpen]="isOpen">
  <ng-template>
    <ion-header>
      <ion-toolbar>
        <ion-buttons slot="start">
          <ion-button (click)="close(false)">{{ 'new.item.dialog.button.close' | translate }}</ion-button>
        </ion-buttons>
        <ion-title>{{'new.item.dialog.title' | translate}}</ion-title>
        <ion-buttons slot="end">
          <ion-button (click)="close(true)">{{ 'new.item.dialog.button.create' | translate }}</ion-button>
        </ion-buttons>
      </ion-toolbar>
    </ion-header>
    <ion-content>
      <ion-list>
        <ion-item>
          <ion-input label="{{'new.item.dialog.name' | translate}}"
                     placeholder="{{'new.item.dialog.name.placeholder' | translate}}"
                     [(ngModel)]="value.name"></ion-input>
        </ion-item>
        <ion-item button (click)="selectCategories = true">
          <ion-label class="ion-text-wrap">
            {{'new.item.dialog.categories' | translate}}
            @for (cat of value.category; track cat) {
              <ion-chip color="secondary">
                <ion-avatar>
                  <img alt="Image of the category" src="assets/avatar.svg"/>
                </ion-avatar>
                <ion-label class="ion-text-wrap">{{ cat }}</ion-label>
                <ion-icon name="close-circle" (click)="removeCategory(cat);  $event.stopPropagation()"></ion-icon>
              </ion-chip>
            } @empty {
              {{'new.item.dialog.categories.empty' | translate}}
            }
          </ion-label>
        </ion-item>
      </ion-list>
    </ion-content>
  </ng-template>
</ion-modal>
<app-categories-dialog [isOpen]="selectCategories"
                       [item]="value"
                       (confirm)="setCategories($event)"
></app-categories-dialog>
